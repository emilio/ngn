\documentclass[12pt,a4paper]{report}

\usepackage[margin=3cm]{geometry}
\usepackage[spanish]{babel}
\usepackage[autostyle]{csquotes}
\usepackage{xcolor}
\usepackage{eurosym}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
\usepackage[pdfusetitle]{hyperref} % For links
\usepackage{titling} % Convenient access to title / author / etc
\usepackage{graphicx} % For images
\usepackage[indent=20pt]{parskip}
\usepackage{listings}
\usepackage{minted}
\usepackage{amsmath}
% Needed to be able to display `tree`s output, see https://tex.stackexchange.com/questions/720134/unicode-character-u2514-not-set-up-with-latex-when-using-pandoc-with-mark
\usepackage{pmboxdraw}
\usepackage[spanish,nameinlink,noabbrev]{cleveref}
\usepackage[nonumberlist]{glossaries}
\usepackage[nottoc]{tocbibind} % Show bibliography in toc
\input{build/pandoc-macros.tex} % For syntax highlighting

% From pandoc:
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\newcommand{\passthrough}[1]{#1}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

% Underline rather than full-border of links in PDF.
% Also disable border in internal links.
\hypersetup{pdfborderstyle={/S/U/W 1}}

% Make links be footnotes too.
\let\oldhref\href
\renewcommand{\href}[2]{\oldhref{#1}{#2}\footnote{#2: \url{#1}}}

% Code listing number style.
\renewcommand{\theFancyVerbLine}{\ttfamily {\footnotesize \oldstylenums{\arabic{FancyVerbLine}}}}

\title{
  \textbf{Biblioteca para comunicación directa entre dispositivos basada en tecnologías P2P} \\
  \vspace{\parskip}
  \small Library for direct communication between devices based on P2P technologies
}

\author{
  Emilio Cobos Álvarez (\texttt{emiliocobos@usal.es})
}

\date{Julio de 2025}

\input{00-glossary.tex}

\begin{document} 

\pagenumbering{roman}

\begin{titlepage}
\begin{center}
  {\Large \thetitle}

  \vspace*{\fill}

  {\large Trabajo de Fin de Grado}

  \textsc{Grado en Ingeniería Informática}

  \vspace{2em}

  \includegraphics[width=0.5\textwidth]{res/usal-logo.pdf}

  \vspace{2em}

  \thedate

  \vspace*{\fill}

  {\large \textbf{Autor}}

  \theauthor

  \vspace{\parskip}

  {\large \textbf{Tutores}}

  Guillermo González Talaván (\texttt{gyermo@usal.es}) \\ Pedro Martín Vallejo Llamas (\texttt{pedrito@usal.es})
\end{center}
\end{titlepage}

\input{00-cert.tex}

\clearpage

\input{00-abstract.tex}

\clearpage

\printglossaries

\clearpage

\begin{flushright}
  \section*{Agradecimientos}

  \emph{A Pedro, por la insistencia implacable.}

  \emph{A Guillermo y a Pablo, por sacar ese rato todas las semanas.}

  \emph{A Sam, por cada rato extra que me has dado para hacer este trabajo.}

  \emph{A Sammy, por querer teclear conmigo todos los fines de semana.}

  \emph{A Carlos, porque me picas, y si no no hubiera acabado esto.}

  % Probably missing someone...
\end{flushright}

\clearpage

\tableofcontents

\clearpage

\pagenumbering{arabic}

\input{01-intro.tex}
\input{build/02-objeto.tex}
\input{build/03-antecedentes.tex}
\input{build/04-descripcion-actual.tex}
\input{build/05-normas.tex}
\input{build/06-requisitos-iniciales.tex}
\input{build/07-hipotesis.tex}
\input{build/08-alternativas.tex}
\input{build/09-solucion.tex}
\input{build/10-riesgos.tex}
\input{build/11-organizacion.tex}
\input{build/12-conclusiones.tex}

\bibliographystyle{plain}
\bibliography{bibliography}

\end{document}
